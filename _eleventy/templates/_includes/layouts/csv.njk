---
layout: layouts/base.njk
---

<h1>{{ title or page.fileSlug | replace("-", " ") | replace("_", " ") | capitalize }}</h1>

{% if csvError %}
<div class="csv-error">
    <p><strong>Error parsing CSV file:</strong></p>
    <p class="error-details">{{ csvError }}</p>
</div>
{% elif csvData and csvData.length > 0 %}
<div class="csv-info">
    <p><strong>{{ csvData.length }}</strong> rows Ã— <strong>{{ csvColumns.length }}</strong> columns</p>
</div>

<div class="table-wrapper">
    <table class="csv-table">
        <thead>
            <tr>
                {% for column in csvColumns %}
                <th>{{ column }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for row in csvData %}
            <tr>
                {% for column in csvColumns %}
                <td>{{ row[column] }}</td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<p>No data available</p>
{% endif %}

<style>
    .csv-info {
        background: #f6f8fa;
        border-left: 4px solid #0066cc;
        padding: 1rem;
        margin-bottom: 1.5rem;
        border-radius: 4px;
    }

    .csv-info p {
        margin: 0.25rem 0;
        color: #586069;
        font-size: 0.9rem;
    }

    .csv-error {
        background: #fff5f5;
        border-left: 4px solid #dc3545;
        padding: 1rem;
        margin-bottom: 1.5rem;
        border-radius: 4px;
    }

    .csv-error strong {
        color: #721c24;
    }

    .csv-error .error-details {
        color: #721c24;
        font-family: monospace;
        font-size: 0.85rem;
        margin-top: 0.5rem;
    }

    .table-wrapper {
        overflow-x: auto;
        margin-top: 1.5rem;
    }

    .csv-table {
        width: 100%;
        border-collapse: collapse;
        font-size: 0.9rem;
    }

    .csv-table thead {
        background: #f6f8fa;
        position: sticky;
        top: 0;
    }

    .csv-table th {
        text-align: left;
        padding: 0.75rem;
        font-weight: 600;
        color: #24292e;
        border-bottom: 2px solid #e1e4e8;
        white-space: nowrap;
    }

    .csv-table td {
        padding: 0.75rem;
        border-bottom: 1px solid #e1e4e8;
    }

    .csv-table tbody tr:hover {
        background: #f6f8fa;
    }

    @media (max-width: 768px) {
        .csv-table {
            font-size: 0.8rem;
        }

        .csv-table th,
        .csv-table td {
            padding: 0.5rem;
        }
    }
</style>
